<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>—É—Å–ø–æ–∫–æ—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –¥–ª—è –õ–µ—Ä—ã‚ù§Ô∏èüê±</title>
  <style>
    :root{
      --bg1:#071b14;
      --bg2:#0b2a1d;
      --glow:rgba(120,255,200,.18);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.70);
      --mint:#8fffd3;
      --leaf:#3dff9b;
      --leaf2:#30c98a;
      --dur:520ms;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--text);
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      overflow:hidden;
      background:
        radial-gradient(900px 600px at 25% 20%, rgba(80,255,200,.16), transparent 56%),
        radial-gradient(700px 520px at 80% 25%, rgba(120,255,200,.14), transparent 58%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    }

    /* –º—è–≥–∫–∞—è —Ç—É–º–∞–Ω–Ω–æ—Å—Ç—å */
    .mist{
      position:fixed; inset:-30%;
      pointer-events:none;
      background:
        radial-gradient(circle at 25% 35%, rgba(255,255,255,.06), transparent 45%),
        radial-gradient(circle at 70% 30%, rgba(120,255,200,.06), transparent 48%),
        radial-gradient(circle at 50% 75%, rgba(60,220,150,.05), transparent 52%);
      filter: blur(14px);
      opacity:.9;
      animation: floatMist 16s ease-in-out infinite alternate;
    }
    @keyframes floatMist{
      from{ transform: translate3d(-2%, -1%, 0) scale(1); }
      to{ transform: translate3d(2%, 1.5%, 0) scale(1.04); }
    }

    .wrap{
      height:100%;
      width:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: max(14px, env(safe-area-inset-top)) 14px max(18px, env(safe-area-inset-bottom));
      position:relative;
    }

    /* –Ω–∏–∫–∞–∫–∏—Ö —Ä–∞–º–æ–∫: –ø—Ä–æ—Å—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫ —Ç–µ–∫—Å—Ç–∞ */
    .stage{
      width:min(720px, 94vw);
      height:min(760px, 84vh);
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
      gap:16px;
      position:relative;
    }

    .topbar{
      width:min(720px, 94vw);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      position:absolute;
      top:max(10px, env(safe-area-inset-top));
      left:50%;
      transform:translateX(-50%);
      padding:0 6px;
      pointer-events:none;
    }
    .counter{
      font-size:14px;
      color:var(--muted);
      letter-spacing:.2px;
    }
    .progress{
      width:min(260px, 40vw);
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.12);
      overflow:hidden;
    }
    .bar{
      height:100%;
      width:10%;
      background: linear-gradient(90deg, var(--leaf), var(--mint));
      border-radius:999px;
      box-shadow: 0 0 18px var(--glow);
      transition: width var(--dur) ease;
    }

    h1{
      margin:0;
      font-size: clamp(26px, 4.2vw, 40px);
      font-weight:800;
      letter-spacing:.2px;
      text-shadow: 0 8px 26px rgba(0,0,0,.45);
    }
    .subtitle{
      margin:0;
      font-size: clamp(16px, 2.6vw, 20px);
      color:var(--muted);
      line-height:1.45;
      max-width: 56ch;
    }

    .big-emoji{
      font-size: clamp(56px, 9vw, 92px);
      filter: drop-shadow(0 10px 22px rgba(0,0,0,.35));
      user-select:none;
    }

    .btnRow{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      justify-content:center;
      margin-top:6px;
    }
    button{
      border:0;
      border-radius:999px;
      padding:12px 16px;
      font-size:16px;
      font-weight:700;
      cursor:pointer;
      color:#083222;
      background: linear-gradient(135deg, rgba(160,255,215,.95), rgba(80,255,170,.95));
      box-shadow: 0 12px 30px rgba(0,0,0,.28), 0 0 0 1px rgba(255,255,255,.18) inset;
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    button:active{ transform: scale(.98); filter: brightness(.98); }
    .ghost{
      background: rgba(255,255,255,.10);
      color: rgba(255,255,255,.90);
      box-shadow: 0 12px 28px rgba(0,0,0,.22), 0 0 0 1px rgba(255,255,255,.16) inset;
      backdrop-filter: blur(10px);
    }

    /* –ø–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏–µ */
    .page{
      width:100%;
      height:100%;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      gap:16px;
      opacity:0;
      transform: translateY(10px);
      transition: opacity var(--dur) ease, transform var(--dur) ease;
    }
    .page.show{
      opacity:1;
      transform: translateY(0);
    }

    /* –¥—ã—Ö–∞–Ω–∏–µ */
    .breathWrap{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
      margin-top:6px;
    }
    .bubble{
      width: clamp(180px, 44vw, 260px);
      aspect-ratio: 1/1;
      border-radius:50%;
      background: radial-gradient(circle at 30% 25%, rgba(255,255,255,.18), rgba(255,255,255,.04) 55%, rgba(0,0,0,.0) 70%),
                  radial-gradient(circle at 70% 75%, rgba(120,255,200,.20), rgba(0,0,0,0) 62%);
      box-shadow: 0 18px 40px rgba(0,0,0,.32), 0 0 0 1px rgba(255,255,255,.10) inset;
      transform: scale(.85);
      transition: transform 900ms ease;
    }
    .breathText{
      font-size:18px;
      color:rgba(255,255,255,.85);
      font-weight:800;
      letter-spacing:.2px;
      text-shadow: 0 10px 26px rgba(0,0,0,.35);
    }
    .breathTimer{
      font-size:16px;
      color:var(--muted);
      font-weight:700;
    }

    /* –º—É—Ä—á–∞–Ω–∏–µ */
    .purr{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      background: rgba(255,255,255,.10);
      box-shadow: 0 12px 28px rgba(0,0,0,.22), 0 0 0 1px rgba(255,255,255,.14) inset;
      backdrop-filter: blur(10px);
      user-select:none;
    }
    .purrDot{
      width:10px; height:10px; border-radius:50%;
      background: rgba(160,255,215,.92);
      box-shadow: 0 0 18px var(--glow);
      opacity:.25;
      transition: opacity .15s ease;
    }
    .purr.on .purrDot{ opacity:1; }
    .purrTxt{ font-weight:800; color:rgba(255,255,255,.86); }

    /* –¥–æ–∂–¥–∏–∫/–≤–∑—Ä—ã–≤—ã —ç–º–æ–¥–∑–∏ */
    .fxLayer{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
    }
    .fall{
      position:absolute;
      top:-40px;
      will-change: transform, opacity;
      user-select:none;
      filter: drop-shadow(0 8px 16px rgba(0,0,0,.25));
    }
    @keyframes fallDown{
      from{ transform: translate3d(var(--x), -50px, 0) rotate(var(--r)); opacity:0; }
      10%{opacity:1}
      to{ transform: translate3d(var(--x), calc(100vh + 60px), 0) rotate(calc(var(--r) + 220deg)); opacity:0; }
    }
    .pop{
      position:absolute;
      will-change: transform, opacity;
      user-select:none;
      filter: drop-shadow(0 8px 16px rgba(0,0,0,.25));
      animation: popOut 750ms ease-out forwards;
    }
    @keyframes popOut{
      from{ transform: translate3d(0,0,0) scale(.9); opacity:0; }
      10%{ opacity:1; }
      to{ transform: translate3d(var(--dx), var(--dy), 0) scale(1.15); opacity:0; }
    }

    /* –∏–≥—Ä–∞: –ª–µ—Ç–∞—é—â–∏–π –∫–æ—Ç –ø–æ —ç–∫—Ä–∞–Ω—É */
    .gameArea{
      position:fixed;
      inset:0;
      pointer-events:none; /* –≤–∫–ª—é—á–∏–º –Ω–∞ –∫–æ—Ç–∏–∫–µ */
      z-index: 10;
    }
    .flyCat{
      position:absolute;
      left:50%; top:50%;
      transform: translate(-50%,-50%);
      font-size: 56px; /* –≤ 2 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ, —á–µ–º –±—ã–ª–æ –±–æ–ª—å—à–æ–µ */
      pointer-events:auto;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      filter: drop-shadow(0 10px 20px rgba(0,0,0,.35));
    }

    /* –Ω–∏–∂–Ω—è—è –∫–Ω–æ–ø–∫–∞ —Å—Ç–æ–ø */
    .bottomControls{
      position:fixed;
      left:50%;
      transform: translateX(-50%);
      bottom: max(14px, env(safe-area-inset-bottom));
      z-index: 20;
      display:flex;
      gap:10px;
      justify-content:center;
      width: min(720px, 94vw);
      pointer-events:auto;
    }

    /* –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã: –∫—Ä–∞—Å–æ—á–Ω–µ–µ */
    .compliment{
      font-size: clamp(18px, 3vw, 24px);
      font-weight:900;
      line-height:1.25;
      background: linear-gradient(90deg, rgba(180,255,220,.98), rgba(120,255,200,.96), rgba(70,255,160,.96));
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
      text-shadow: 0 10px 28px rgba(0,0,0,.25);
      padding: 0 8px;
    }

    .tinyNote{
      font-size:14px;
      color:rgba(255,255,255,.55);
    }

  </style>
</head>
<body>
  <div class="mist"></div>
  <div class="fxLayer" id="fx"></div>
  <div class="gameArea" id="gameArea" hidden></div>

  <div class="topbar">
    <div class="counter" id="counter">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –∏–∑ 7</div>
    <div class="progress"><div class="bar" id="bar"></div></div>
  </div>

  <div class="wrap">
    <div class="stage">
      <div class="page" id="page"></div>
    </div>
  </div>

  <div class="bottomControls" id="bottomControls" hidden>
    <button class="ghost" id="stopGameBtn">–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
  </div>

<script>
(() => {
  const fx = document.getElementById('fx');
  const pageEl = document.getElementById('page');
  const counterEl = document.getElementById('counter');
  const barEl = document.getElementById('bar');
  const gameArea = document.getElementById('gameArea');
  const bottomControls = document.getElementById('bottomControls');
  const stopGameBtn = document.getElementById('stopGameBtn');

  const pagesTotal = 7;
  let idx = 0;

  // --------- –£–¢–ò–õ–ò–¢–´ FX ----------
  function rand(min, max){ return Math.random() * (max - min) + min; }

  function popHearts(x, y, count = 5){
    // —Ä–æ–≤–Ω–æ count —Å–µ—Ä–¥–µ—á–µ–∫
    const hearts = ["üíö","üíñ","üíõ","üíú","ü©µ","ü§ç"];
    for(let i=0;i<count;i++){
      const el = document.createElement('div');
      el.className = 'pop';
      el.textContent = hearts[(Math.random()*hearts.length)|0];
      el.style.left = x + 'px';
      el.style.top = y + 'px';
      el.style.fontSize = rand(18, 26) + 'px';
      el.style.setProperty('--dx', (rand(-70,70)) + 'px');
      el.style.setProperty('--dy', (rand(-80,70)) + 'px');
      fx.appendChild(el);
      el.addEventListener('animationend', () => el.remove(), {once:true});
    }
  }

  function emojiRain(emojiList, durationMs = 4000, ratePerSec = 10, sizeMin=22, sizeMax=34){
    // —É–º–µ—Ä–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: ratePerSec –Ω–µ –±–æ–ª—å—à–æ–π
    const start = performance.now();
    let last = start;
    function tick(now){
      const t = now - start;
      if(t > durationMs) return;
      const dt = (now - last)/1000;
      last = now;
      // —Å–∫–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç—å –Ω–∞ —ç—Ç–æ–º –∫–∞–¥—Ä–µ
      const toCreate = Math.min(3, Math.max(0, Math.floor(dt * ratePerSec)));
      for(let i=0;i<toCreate;i++){
        const e = document.createElement('div');
        e.className = 'fall';
        e.textContent = emojiList[(Math.random()*emojiList.length)|0];
        const x = rand(0, window.innerWidth);
        const dur = rand(2400, 3600);
        e.style.setProperty('--x', x + 'px');
        e.style.setProperty('--r', rand(-35,35) + 'deg');
        e.style.left = '0px';
        e.style.fontSize = rand(sizeMin, sizeMax) + 'px';
        e.style.animation = `fallDown ${dur}ms linear forwards`;
        fx.appendChild(e);
        e.addEventListener('animationend', () => e.remove(), {once:true});
      }
      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
  }

  // --------- –î–´–•–ê–ù–ò–ï 4/5 ----------
  let breathTimer = null;
  function startBreath(bubbleEl, textEl, timerEl){
    stopBreath();
    const IN = 4;
    const OUT = 5;
    let phase = 'in';
    let left = IN;

    function setPhase(p){
      phase = p;
      left = (p === 'in') ? IN : OUT;
      textEl.textContent = (p === 'in') ? '–í–¥–æ—Ö' : '–í—ã–¥–æ—Ö';
      bubbleEl.style.transform = (p === 'in') ? 'scale(1.06)' : 'scale(.86)';
    }
    setPhase('in');
    timerEl.textContent = left + ' —Å–µ–∫';

    breathTimer = setInterval(() => {
      left -= 1;
      if(left <= 0){
        setPhase(phase === 'in' ? 'out' : 'in');
      }
      timerEl.textContent = left + ' —Å–µ–∫';
    }, 1000);
  }
  function stopBreath(){
    if(breathTimer){ clearInterval(breathTimer); breathTimer = null; }
  }

  // --------- –ú–£–†–ß–ê–ù–ò–ï ----------
  let purrOsc = null;
  let purrCtx = null;
  function togglePurr(container){
    const on = container.classList.toggle('on');
    if(on){
      // –ª—ë–≥–∫–æ–µ "–º—É—Ä—á–∞–Ω–∏–µ" —á–µ—Ä–µ–∑ WebAudio (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Safari, Chrome, Yandex)
      try{
        purrCtx = new (window.AudioContext || window.webkitAudioContext)();
        const osc = purrCtx.createOscillator();
        const gain = purrCtx.createGain();
        osc.type = 'sine';
        osc.frequency.value = 55; // –Ω–∏–∑–∫–æ
        gain.gain.value = 0.03;   // —Ç–∏—Ö–æ
        osc.connect(gain);
        gain.connect(purrCtx.destination);
        osc.start();

        // —á—É—Ç—å "–¥—Ä–æ–∂–∏" —á–∞—Å—Ç–æ—Ç—ã, —á—Ç–æ–±—ã –±—ã–ª–æ –∂–∏–≤–µ–µ
        let t = 0;
        const wobble = setInterval(() => {
          if(!purrCtx) return clearInterval(wobble);
          t += 1;
          osc.frequency.value = 50 + (Math.sin(t/3)*6) + rand(-1.2,1.2);
        }, 120);

        purrOsc = {osc, gain, wobble};
      }catch(e){
        // –µ—Å–ª–∏ –∞—É–¥–∏–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ ‚Äî –ø—Ä–æ—Å—Ç–æ –º–æ–ª—á–∞ –æ—Å—Ç–∞–≤–∏–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
      }
    }else{
      if(purrOsc){
        try{
          clearInterval(purrOsc.wobble);
          purrOsc.osc.stop();
          purrOsc.osc.disconnect();
        }catch(_){}
        purrOsc = null;
      }
      if(purrCtx){
        try{ purrCtx.close(); }catch(_){}
        purrCtx = null;
      }
    }
  }

  // --------- –ò–ì–†–ê: –õ–ï–¢–ê–Æ–©–ò–ô –ö–û–¢ ----------
  let gameRAF = null;
  let flyCatEl = null;
  let gameRunning = false;

  function startGame(){
    stopGame(); // –Ω–∞ –≤—Å—è–∫–∏–π
    gameArea.hidden = false;
    bottomControls.hidden = false;
    gameRunning = true;

    flyCatEl = document.createElement('div');
    flyCatEl.className = 'flyCat';
    flyCatEl.textContent = 'üò∏';
    gameArea.appendChild(flyCatEl);

    // –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏/—Å–∫–æ—Ä–æ—Å—Ç–∏
    let x = window.innerWidth * 0.5;
    let y = window.innerHeight * 0.45;
    let vx = rand(120, 190) * (Math.random() < .5 ? -1 : 1);
    let vy = rand(110, 170) * (Math.random() < .5 ? -1 : 1);

    function step(now){
      if(!gameRunning) return;
      const dt = 1/60;

      x += vx * dt;
      y += vy * dt;

      const pad = 44; // —á—Ç–æ–±—ã –Ω–µ —É–ª–µ—Ç–∞–ª –∑–∞ –∫—Ä–∞—è
      if(x < pad){ x = pad; vx = Math.abs(vx); }
      if(x > window.innerWidth - pad){ x = window.innerWidth - pad; vx = -Math.abs(vx); }
      if(y < pad){ y = pad; vy = Math.abs(vy); }
      if(y > window.innerHeight - pad){ y = window.innerHeight - pad; vy = -Math.abs(vy); }

      flyCatEl.style.left = x + 'px';
      flyCatEl.style.top = y + 'px';

      gameRAF = requestAnimationFrame(step);
    }
    gameRAF = requestAnimationFrame(step);

    // —Ç–∞–ø –ø–æ –∫–æ—Ç—É -> 5 —Å–µ—Ä–¥–µ—á–µ–∫ –≤–æ–∫—Ä—É–≥ –∏ —É—Å–∫–æ—Ä–µ–Ω–∏–µ
    flyCatEl.addEventListener('pointerdown', (e) => {
      e.preventDefault();
      // –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ —Ü–µ–Ω—Ç—Ä—É –∫–æ—Ç–∞
      const rect = flyCatEl.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;
      popHearts(cx, cy, 5);

      // –ª—ë–≥–∫–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ, —á—Ç–æ–±—ã –±—ã–ª–æ –≤–µ—Å–µ–ª–æ
      vx *= 1.06;
      vy *= 1.06;

    }, {passive:false});
  }

  function stopGame(){
    gameRunning = false;
    if(gameRAF){ cancelAnimationFrame(gameRAF); gameRAF = null; }
    if(flyCatEl){ flyCatEl.remove(); flyCatEl = null; }
    gameArea.hidden = true;
    bottomControls.hidden = true;
  }

  stopGameBtn.addEventListener('click', () => stopGame());

  // --------- –ö–û–ú–ü–õ–ò–ú–ï–ù–¢–´ ----------
  const compliments = [
    "—è —Ç–µ–±—è –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –ª—é–±–ª—é üíö",
    "—Ç—ã ‚Äî –º–æ–π —É—é—Ç –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ üò∫",
    "—Ç—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –∫—Ä–∞—Å–∏–≤–∞—è ‚ú®",
    "—Å —Ç–æ–±–æ–π –≤—Å—ë —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª—É—á—à–µ üåø",
    "—Ç—ã —Å–∞–º–∞—è –Ω–µ–∂–Ω–∞—è –∏ —Ä–æ–¥–Ω–∞—è ü§ç",
    "—Ç—ã —É–º–Ω–∏—Ü–∞, –∏ —è —Ç–æ–±–æ–π –≥–æ—Ä–∂—É—Å—å üí´",
    "—Ç—ã –º–æ—è –ª—é–±–∏–º–∞—è —É–ª—ã–±–∫–∞ üòä",
    "—Ç—ã –≤–æ–ª—à–µ–±–Ω–∞—è, –ø—Ä–∞–≤–¥–∞ ü©µ"
  ];
  let compI = 0;

  // --------- –†–ï–ù–î–ï–† –°–¢–†–ê–ù–ò–¶ ----------
  function setTopbar(){
    counterEl.textContent = `–°—Ç—Ä–∞–Ω–∏—Ü–∞ ${idx+1} –∏–∑ ${pagesTotal}`;
    barEl.style.width = `${((idx+1)/pagesTotal)*100}%`;
  }

  function nav(delta){
    // —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–µ—Ä–µ—Ö–æ–¥–∞
    emojiRain(["üíö","üåø","‚ú®","üò∫","üçÉ"], 1200, 8, 18, 26);

    idx = Math.min(pagesTotal-1, Math.max(0, idx + delta));
    render();
  }

  function render(){
    stopBreath();
    // –∏–≥—Ä—É –≤—ã–∫–ª—é—á–∞–µ–º, –µ—Å–ª–∏ —É—Ö–æ–¥–∏–º —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã 5
    if(idx !== 4) stopGame();

    setTopbar();

    pageEl.classList.remove('show');
    // –º–∞–ª–µ–Ω—å–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞, —á—Ç–æ–±—ã –∞–Ω–∏–º–∞—Ü–∏—è –≤—ã–≥–ª—è–¥–µ–ª–∞ –ø–ª–∞–≤–Ω–æ
    setTimeout(() => {
      pageEl.innerHTML = '';
      pageEl.className = 'page';

      const content = buildPage(idx);
      pageEl.appendChild(content);

      requestAnimationFrame(() => pageEl.classList.add('show'));
    }, 120);
  }

  function buildPage(i){
    const root = document.createElement('div');
    root.style.display = 'flex';
    root.style.flexDirection = 'column';
    root.style.alignItems = 'center';
    root.style.justifyContent = 'center';
    root.style.gap = '16px';
    root.style.width = '100%';
    root.style.height = '100%';

    // —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
    const navRow = document.createElement('div');
    navRow.className = 'btnRow';

    const backBtn = document.createElement('button');
    backBtn.className = 'ghost';
    backBtn.textContent = '‚Üê –ù–∞–∑–∞–¥';
    backBtn.onclick = () => nav(-1);

    const nextBtn = document.createElement('button');
    nextBtn.textContent = '–î–∞–ª—å—à–µ ‚Üí';
    nextBtn.onclick = () => nav(+1);

    // –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü
    if(i === 0){
      const h = document.createElement('h1');
      h.textContent = '—É—Å–ø–æ–∫–æ—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –¥–ª—è –õ–µ—Ä—ã‚ù§Ô∏èüê±';
      const e = document.createElement('div');
      e.className = 'big-emoji';
      e.textContent = 'üò∫üíöüåø';
      const p = document.createElement('p');
      p.className = 'subtitle';
      p.textContent = '–°–¥–µ–ª–∞–Ω–æ, —á—Ç–æ–±—ã —Ç–µ–±–µ —Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å —á—É—Ç—å –ª–µ–≥—á–µ –∏ —Å–ø–æ–∫–æ–π–Ω–µ–µ, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ.';
      root.append(h,e,p);

      navRow.appendChild(nextBtn);
      root.appendChild(navRow);
    }

    if(i === 1){
      const h = document.createElement('h1');
      h.textContent = '–î—ã—à–∏–º –≤–º–µ—Å—Ç–µ';
      const p = document.createElement('p');
      p.className = 'subtitle';
      p.textContent = '–í–¥–æ—Ö 4 —Å–µ–∫—É–Ω–¥—ã ‚Äî –≤—ã–¥–æ—Ö 5 —Å–µ–∫—É–Ω–¥. –ü—Ä–æ—Å—Ç–æ —Å–ª–µ–¥–∏ –∑–∞ –∫—Ä—É–≥–æ–º.';
      const wrap = document.createElement('div');
      wrap.className = 'breathWrap';

      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      const t = document.createElement('div');
      t.className = 'breathText';
      const timer = document.createElement('div');
      timer.className = 'breathTimer';

      wrap.append(bubble,t,timer);
      root.append(h,p,wrap);

      startBreath(bubble, t, timer);

      navRow.append(backBtn, nextBtn);
      root.appendChild(navRow);
    }

    if(i === 2){
      const h = document.createElement('h1');
      h.textContent = '–ú—É—Ä—á–∞–Ω–∏–µ';
      const e = document.createElement('div');
      e.className = 'big-emoji';
      e.textContent = 'üò∏üéµ';

      const box = document.createElement('div');
      box.className = 'purr';
      const dot = document.createElement('div');
      dot.className = 'purrDot';
      const txt = document.createElement('div');
      txt.className = 'purrTxt';
      txt.textContent = '–ù–∞–∂–º–∏: –º—É—Ä-–º—É—Ä';
      box.append(dot, txt);
      box.onclick = () => togglePurr(box);

      const p = document.createElement('p');
      p.className = 'subtitle';
      p.textContent = '–ï—Å–ª–∏ –∑–≤—É–∫ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏ –µ—â—ë —Ä–∞–∑ (–±—Ä–∞—É–∑–µ—Ä—ã –∏–Ω–æ–≥–¥–∞ —Ç—Ä–µ–±—É—é—Ç —Ç–∞–ø).';

      root.append(h,e,box,p);

      navRow.append(backBtn, nextBtn);
      root.appendChild(navRow);
    }

    if(i === 3){
      const h = document.createElement('h1');
      h.textContent = '–¢—ë–ø–ª—ã–µ –º—ã—Å–ª–∏';
      const e = document.createElement('div');
      e.className = 'big-emoji';
      e.textContent = 'üíöüê±üíö';
      const p = document.createElement('p');
      p.className = 'subtitle';
      p.textContent = '–¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è. –Ø —Ä—è–¥–æ–º ‚Äî –º—ã—Å–ª–µ–Ω–Ω–æ, —Å–µ—Ä–¥—Ü–µ–º, –∑–∞–±–æ—Ç–æ–π.';
      root.append(h,e,p);

      navRow.append(backBtn, nextBtn);
      root.appendChild(navRow);
    }

    if(i === 4){
      const h = document.createElement('h1');
      h.textContent = '–ü–æ–π–º–∞–π –∫–æ—Ç–∏–∫–∞ üò∏';
      const p = document.createElement('p');
      p.className = 'subtitle';
      p.textContent = '–õ–æ–≤–∏ –∫–æ—Ç–∏–∫–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –ó–∞ –∫–∞–∂–¥—ã–π –ø–æ–π–º–∞–Ω–Ω—ã–π ‚Äî 5 —Å–µ—Ä–¥–µ—á–µ–∫ üíö';

      const startBtn = document.createElement('button');
      startBtn.textContent = '–ù–∞—á–∞—Ç—å –∏–≥—Ä—É';
      startBtn.onclick = () => startGame();

      root.append(h,p,startBtn);

      navRow.append(backBtn, nextBtn);
      root.appendChild(navRow);
    }

    if(i === 5){
      const h = document.createElement('h1');
      h.textContent = '–û–±–Ω–∏–º–∞—à–∫–∏';
      const e = document.createElement('div');
      e.className = 'big-emoji';
      e.textContent = 'ü´Çüò∫üíö';

      const btn = document.createElement('button');
      btn.textContent = '–û–±–Ω–∏–º–∞—à–∫–∏';
      btn.onclick = () => {
        // —É–º–µ—Ä–µ–Ω–Ω–æ, —á—Ç–æ–±—ã –Ω–µ –ª–∞–≥–∞–ª–æ
        emojiRain(["üò∫","üò∏","üòª","üíö","üíñ"], 3800, 9, 26, 40);
      };

      const p = document.createElement('p');
      p.className = 'subtitle';
      p.textContent = '–ù–∞–∂–º–∏ ‚Äî –∏ –ø—É—Å—Ç—å —Ç–µ–±–µ —Å—Ç–∞–Ω–µ—Ç —á—É—Ç—å —Ç–µ–ø–ª–µ–µ.';

      root.append(h,e,btn,p);

      navRow.append(backBtn, nextBtn);
      root.appendChild(navRow);
    }

    if(i === 6){
      const h = document.createElement('h1');
      h.textContent = '–°—é—Ä–ø—Ä–∏–∑';
      const e = document.createElement('div');
      e.className = 'big-emoji';
      e.textContent = 'üéÅüò∫‚ú®';

      const line = document.createElement('div');
      line.className = 'compliment';
      line.textContent = '–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É üíö';

      const btn = document.createElement('button');
      btn.textContent = '–°—é—Ä–ø—Ä–∏–∑';
      btn.onclick = () => {
        line.textContent = compliments[compI % compliments.length];
        compI++;
        emojiRain(["üíö","‚ú®","üò∫"], 1200, 7, 18, 26);
      };

      root.append(h,e,btn,line);

      navRow.append(backBtn);
      root.appendChild(navRow);
    }

    return root;
  }

  // —Å—Ç–∞—Ä—Ç
  render();

  // —á—É—Ç—å-—á—É—Ç—å —Å–ø–æ–∫–æ–π–Ω–æ–≥–æ —Ñ–æ–Ω–∞ (–ª–µ–≥–∫–æ)
  setInterval(() => {
    // –æ—á–µ–Ω—å —Ä–µ–¥–∫–æ –∏ –º–∞–ª–æ
    emojiRain(["üçÉ","üíö"], 900, 4, 16, 22);
  }, 5000);

  // —Ñ–∏–∫—Å—ã –Ω–∞ —Ä–µ—Å–∞–π–∑ (–ø–æ–≤–æ—Ä–æ—Ç —ç–∫—Ä–∞–Ω–∞)
  window.addEventListener('resize', () => {
    // –µ—Å–ª–∏ –∏–¥—ë—Ç –∏–≥—Ä–∞ ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫, —á—Ç–æ–±—ã –Ω–µ —É–ª–µ—Ç–∞–ª–æ
    if(idx === 4 && gameRunning){
      startGame();
    }
  });

})();
</script>
</body>
</html>